# Kids&Us Results Viewer

This is a simple static HTML/JS/CSS viewer for the JSON output generated by the `kidsandus` scraper.

## Running the full pipeline

1. Ensure you have a `.env.local` (or similar) file at the repo root with the required credentials (`BRIGHTDATA_API_KEY`, OpenAI key, etc.).
2. From the repository root run:

   ```bash
   deno run --reload --allow-env --allow-net --allow-read --allow-write --env-file=.env.local \
     supabase/functions/_shared/cuery/examples/kidsandus/kidsandus_victoriano.ts
   ```

   This scrapes every prompt in `prompts_inputs/generated_prompts.json`, enriches it, and writes the latest file to `supabase/functions/_shared/cuery/examples/kidsandus/chatgpt_response_data/` (for example `kidsandus_results_2025-12-02T19-45-25-101Z.json`).

3. Open that JSON in the viewer using one of the methods below.

## How to use

### Static Mode (File Upload)
1. Open `index.html` in your web browser.
2. Click the "Load JSON Result" button.
3. Select one of the generated `kidsandus_results_....json` files (for example `kidsandus_results_2025-12-02T19-45-25-101Z.json`).

### Server Mode (Auto-list files)
To automatically list and select files from the `chatgpt_response_data` folder, run the included Deno server:

```bash
deno run --allow-net --allow-read server.ts
```

Then open [http://localhost:8000](http://localhost:8000) in your browser. You will see a list of available result files in the sidebar.

## Features

-   **Markdown Rendering**: Properly displays the formatted answer from ChatGPT.
-   **Structured Data**: Visualizes the extracted companies, pros/cons, and recommendations.
-   **Search**: Filter the list of places by name.
-   **Responsive**: Works on different screen sizes.
